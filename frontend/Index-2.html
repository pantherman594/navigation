<!DOCTYPE html>
<html>
    <head>
        <title>Navigation</title>
        <style> 
        #map {
        height: 100%;
        width: 80%;
        position: absolute !important;
        right: 0;
      }
        
    #searchInput:focus {
        border-color: #4d90fe;
    }
    #source-des {
        height: 30%;
        width: 20%;
        position: absolute !important;
        left: 0;
        top: 0;
    }
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    </head>
    <div id="source-des">
    <input id="searchInput" class="controls" type="text" placeholder="Enter a source">
    <input id="searchInput2" class="controls" type="text" placeholder="Enter a destination"></div>

        <div id="map"></div>
        <script>
                function initMap() {
                    var map = new google.maps.Map(document.getElementById('map'), {
                      center: {lat: -33.8688, lng: 151.2195},
                      zoom: 13
                    });
                    searchInput2 = new google.maps.places.Autocomplete(document.getElementById('searchInput2'), { types: [ 'geocode' ] });
                        google.maps.event.addListener(searchInput2, 'place_changed', function() {
                        fillInAddress();
                    });
                    searchInput = new google.maps.places.Autocomplete(document.getElementById('searchInput'), { types: [ 'geocode' ] });
                        google.maps.event.addListener(searchInput, 'place_changed', function() {
                        fillInAddress();
                    });
                    var input = document.getElementById('searchInput');
                    map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
                
                    var autocomplete = new google.maps.places.Autocomplete(input);
                    
                
                    var infowindow = new google.maps.InfoWindow();
                    var marker = new google.maps.Marker({
                        map: map,
                        anchorPoint: new google.maps.Point(0, -29)
                    });
                
                    autocomplete.addListener('place_changed', function() {
                        infowindow.close();
                        marker.setVisible(false);
                        var place = autocomplete.getPlace();
                        if (!place.geometry) {
                            window.alert("Autocomplete's returned place contains no geometry");
                            return;
                        }
                  
                        // If the place has a geometry, then present it on a map.
                        if (place.geometry.viewport) {
                            map.fitBounds(place.geometry.viewport);
                        } else {
                            map.setCenter(place.geometry.location);
                            map.setZoom(17);
                        }
                    
                        infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);
                        infowindow.open(map, marker);
                      
                        //Location details
                        for (var i = 0; i < place.address_components.length; i++) {
                            if(place.address_components[i].types[0] == 'postal_code'){
                                document.getElementById('postal_code').innerHTML = place.address_components[i].long_name;
                            }
                            if(place.address_components[i].types[0] == 'country'){
                                document.getElementById('country').innerHTML = place.address_components[i].long_name;
                            }
                        }
                        document.getElementById('location').innerHTML = place.formatted_address;
                        document.getElementById('lat').innerHTML = place.geometry.location.lat();
                        document.getElementById('lon').innerHTML = place.geometry.location.lng();
                    });
                }
                </script>
                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBAWAq1xYm7c8dlb3Z1vWAwffL5YHrvUEM&callback=initMap&libraries=places" async defer></script>
</html>